{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 15:02:54"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 15:02:54"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-25 15:05:45"}
{"level":"info","message":"GET /health","timestamp":"2025-04-25 15:05:49"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 15:06:00"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 15:06:29"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:06:57"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"652758\",\"authorizationCode\":\"906332\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"162\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"150710\"}","timestamp":"2025-04-25 15:07:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 162","timestamp":"2025-04-25 15:07:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:10:05"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:12:05"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"147158\",\"authorizationCode\":\"178029\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"163\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151229\"}","timestamp":"2025-04-25 15:12:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 163","timestamp":"2025-04-25 15:12:27"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:15:12"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"454501\",\"authorizationCode\":\"686749\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"164\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151523\"}","timestamp":"2025-04-25 15:15:22"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 164","timestamp":"2025-04-25 15:15:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:18:04"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"759806\",\"authorizationCode\":\"933257\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"165\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151813\"}","timestamp":"2025-04-25 15:18:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 165","timestamp":"2025-04-25 15:18:12"}
{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 15:18:38"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 15:18:38"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:18:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"120\",\"authorizationCode\":\"259413\",\"amount\":5000,\"last4Digits\":3331,\"operationNumber\":\"166\",\"cardType\":\"DB\",\"accountingDate\":\"00-00-00\",\"accountNumber\":\"331\",\"cardBrand\":\"P \",\"realDate\":\"25042025\",\"realTime\":\"151911\"}","timestamp":"2025-04-25 15:19:09"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 166","timestamp":"2025-04-25 15:19:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:20:00"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"125\",\"authorizationCode\":\"775845\",\"amount\":50005,\"last4Digits\":9480,\"operationNumber\":\"167\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"MC\",\"realDate\":\"25042025\",\"realTime\":\"152027\"}","timestamp":"2025-04-25 15:20:25"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 167","timestamp":"2025-04-25 15:20:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:21:06"}
{"level":"warn","message":"operationNumber no exist√≠a; asignado: 576","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":7,\"responseMessage\":\"Transacci√≥n Cancelada desde el POS\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null,\"operationNumber\":\"576\"}","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 576","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:21:36"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"120\",\"authorizationCode\":\"119412\",\"amount\":50005,\"last4Digits\":6590,\"operationNumber\":\"168\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152148\"}","timestamp":"2025-04-25 15:21:47"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 168","timestamp":"2025-04-25 15:21:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:22:59"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"253439\",\"authorizationCode\":\"769674\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"169\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152313\"}","timestamp":"2025-04-25 15:23:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 169","timestamp":"2025-04-25 15:23:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:23:57"}
{"level":"warn","message":"operationNumber no exist√≠a; asignado: 621","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null,\"operationNumber\":\"621\"}","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 621","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 15:24:43"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 15:24:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 15:24:49"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:24:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"353020\",\"authorizationCode\":\"917873\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"170\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152501\"}","timestamp":"2025-04-25 15:24:59"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 170","timestamp":"2025-04-25 15:24:59"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:28:19"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"815182\",\"authorizationCode\":\"589280\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"171\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152828\"}","timestamp":"2025-04-25 15:28:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 171","timestamp":"2025-04-25 15:28:27"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:41:28"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:58:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 16:14:48"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:15:05"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"448799\",\"authorizationCode\":\"397333\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"172\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"161523\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:15:21"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 172","timestamp":"2025-04-25 16:15:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:19:59"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"953709\",\"authorizationCode\":\"447446\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"173\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"162011\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:20:09"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 173","timestamp":"2025-04-25 16:20:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:27:33"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"446280\",\"authorizationCode\":\"512267\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"174\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"162746\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:27:44"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 174","timestamp":"2025-04-25 16:27:44"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:31:22"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 16:31:28"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"118008\",\"authorizationCode\":\"184806\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"175\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"163143\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:31:41"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 175","timestamp":"2025-04-25 16:31:41"}
{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 16:33:25"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 16:33:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:35:06"}
{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-25 16:35:08"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:36:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:36:53"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:36:53"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:39:52"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:39:52"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:40:24"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:40:24"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:50:14"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:50:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:50:31"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:50:31"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:51:32"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 176","timestamp":"2025-04-25 16:51:47"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 16:52:55"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:53:45"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 177","timestamp":"2025-04-25 16:53:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:57:36"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:57:36"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:59:49"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 178","timestamp":"2025-04-25 17:00:04"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:01:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 179","timestamp":"2025-04-25 17:01:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:02:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 180","timestamp":"2025-04-25 17:02:51"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:04:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 181","timestamp":"2025-04-25 17:04:24"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 17:05:29"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 17:05:29"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:06:04"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 182","timestamp":"2025-04-25 17:06:19"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:09:19"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 183","timestamp":"2025-04-25 17:09:36"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:17:52"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:17:54"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 09:17:54"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:17:56"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:18:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:18:53"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:18:55"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 09:18:55"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:18:57"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 09:19:00"}
{"level":"info","message":"POST /api/terminal/reconnect","timestamp":"2025-04-28 09:19:03"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 09:19:03"}
{"level":"info","message":"POST /api/terminal/connect","timestamp":"2025-04-28 09:19:08"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:19:08"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:24:33"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 185","timestamp":"2025-04-28 09:24:57"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:30:16"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:30:16"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:37:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 190","timestamp":"2025-04-28 09:37:39"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 09:37:43"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 09:37:54"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:46:14"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:46:14"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:46:15"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:46:15"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:47:39"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:47:39"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:49:03"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:51:13"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 193","timestamp":"2025-04-28 09:51:25"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:53:26"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:53:26"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:53:29"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"GET /","timestamp":"2025-04-28 09:53:48"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 09:53:48"}
{"level":"info","message":"GET /indes.html","timestamp":"2025-04-28 09:53:56"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:00"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:54:20"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 09:54:25"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:54:29"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:54:29"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:34"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:55:16"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 196","timestamp":"2025-04-28 09:55:26"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:57:23"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 197","timestamp":"2025-04-28 09:57:32"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 10:00:12"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 10:00:12"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 10:00:14"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 10:00:14"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:00:19"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 10:03:03"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 10:03:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 10:03:05"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:03:10"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:03:13"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 10:03:13"}
{"level":"info","message":"GET /","timestamp":"2025-04-28 10:03:17"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 10:03:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:03:39"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 200","timestamp":"2025-04-28 10:03:49"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:05:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 201","timestamp":"2025-04-28 10:06:06"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:20"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:22"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:29"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:10:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 202","timestamp":"2025-04-28 10:10:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:11:24"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 203","timestamp":"2025-04-28 10:11:33"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 10:13:44"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:15:49"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:15:53"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:16:01"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:16:05"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:18:13"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:18:19"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:18:51"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 204","timestamp":"2025-04-28 10:19:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:19:47"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:25:03"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:25:07"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:25:15"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 205","timestamp":"2025-04-28 10:25:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:29:10"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:29:13"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:29:20"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 206","timestamp":"2025-04-28 10:29:29"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:36:27"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:53:07"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:03:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:10"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:19"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:21"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:04:46"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 207","timestamp":"2025-04-28 11:05:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:06:20"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 208","timestamp":"2025-04-28 11:06:32"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:08:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 209","timestamp":"2025-04-28 11:08:24"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:09:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:11:17"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:11:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:12:46"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:12:51"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:13:42"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:13:46"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:15:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:15:58"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:18:00"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:18:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:18:32"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:18:37"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:18:40"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:18:44"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Conexi√≥n con POS cerrada correctamente","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 11:19:53"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:20:44"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:20:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:21:35"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:21:39"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:22:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:22:40"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 11:23:05"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 11:23:05"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 11:23:07"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:23:18"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:23:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:23:38"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 212","timestamp":"2025-04-28 11:23:50"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:33:57"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 213","timestamp":"2025-04-28 11:34:17"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:36:18"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 214","timestamp":"2025-04-28 11:36:29"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:39:48"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:41:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:42:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:42:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 215","timestamp":"2025-04-28 11:43:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:47:07"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:47:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:48:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:48:23"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:48:54"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 219","timestamp":"2025-04-28 11:49:02"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 11:51:03"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 11:51:05"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-28 11:51:14"}
{"level":"info","message":"POST /api/terminal/initialize","timestamp":"2025-04-28 11:52:34"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:52:35"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:52:39"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:52:59"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:56:28"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:04:03"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:04:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:04:07"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:04:12"}
{"level":"info","message":"GET /api/payment/last-transaction","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:05:19"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:10:01"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:10:02"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:10:10"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:10:10"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:10:12"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:12:43"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:12:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:20:20"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:20:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:23:15"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:23:15"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:31:52"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:32:03"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:32:03"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:32:04"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:32:04"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n (manual 0250): this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:34:07"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:34:07"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:34:09"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:34:15"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:34:15"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:34:17"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 230","timestamp":"2025-04-28 12:34:17"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:34:33"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 230","timestamp":"2025-04-28 12:34:33"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:37:16"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:37:16"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:37:19"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:37:24"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 231","timestamp":"2025-04-28 12:37:25"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:37:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:37:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 232","timestamp":"2025-04-28 12:37:45"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:37:50"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 232","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:39:23"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:39:23"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:39:44"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"POST /api/terminal/initialize","timestamp":"2025-04-28 12:39:52"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:39:53"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:39:56"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:40:00"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 235","timestamp":"2025-04-28 12:40:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 235","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:43:15"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:43:15"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:43:17"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:43:19"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:43:27"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:43:30"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:43:34"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 237","timestamp":"2025-04-28 12:43:41"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error ejecutando comando manual 0250: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:47:23"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:47:23"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:47:25"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 238","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:49:51"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:49:51"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:49:55"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:49:56"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:50:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:50:34"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:34"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:50:41"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:50:41"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:50:43"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:50:47"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:47"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:51:19"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:51:19"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:51:36"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:51:39"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:51:39"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:51:41"}
{"level":"info","message":"POST /api/terminal/initialize","timestamp":"2025-04-28 12:51:42"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:51:43"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:51:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 242","timestamp":"2025-04-28 12:52:00"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:52:03"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:53:16"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 12:53:21"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:53:26"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 243","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:55:02"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:55:02"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:55:39"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:55:44"}
{"level":"info","message":"POST /api/terminal/initialize","timestamp":"2025-04-28 12:55:45"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:55:46"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 245","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:56:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:56:27"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 245","timestamp":"2025-04-28 12:56:28"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:56:28"}
