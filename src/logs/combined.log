{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 15:02:54"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 15:02:54"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-25 15:05:45"}
{"level":"info","message":"GET /health","timestamp":"2025-04-25 15:05:49"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 15:06:00"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 15:06:29"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:06:57"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"652758\",\"authorizationCode\":\"906332\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"162\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"150710\"}","timestamp":"2025-04-25 15:07:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 162","timestamp":"2025-04-25 15:07:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:10:05"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:12:05"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"147158\",\"authorizationCode\":\"178029\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"163\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151229\"}","timestamp":"2025-04-25 15:12:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 163","timestamp":"2025-04-25 15:12:27"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:15:12"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"454501\",\"authorizationCode\":\"686749\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"164\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151523\"}","timestamp":"2025-04-25 15:15:22"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 164","timestamp":"2025-04-25 15:15:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:18:04"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"759806\",\"authorizationCode\":\"933257\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"165\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"151813\"}","timestamp":"2025-04-25 15:18:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 165","timestamp":"2025-04-25 15:18:12"}
{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 15:18:38"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 15:18:38"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:18:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"120\",\"authorizationCode\":\"259413\",\"amount\":5000,\"last4Digits\":3331,\"operationNumber\":\"166\",\"cardType\":\"DB\",\"accountingDate\":\"00-00-00\",\"accountNumber\":\"331\",\"cardBrand\":\"P \",\"realDate\":\"25042025\",\"realTime\":\"151911\"}","timestamp":"2025-04-25 15:19:09"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 166","timestamp":"2025-04-25 15:19:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:20:00"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"125\",\"authorizationCode\":\"775845\",\"amount\":50005,\"last4Digits\":9480,\"operationNumber\":\"167\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"MC\",\"realDate\":\"25042025\",\"realTime\":\"152027\"}","timestamp":"2025-04-25 15:20:25"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 167","timestamp":"2025-04-25 15:20:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:21:06"}
{"level":"warn","message":"operationNumber no exist√≠a; asignado: 576","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":7,\"responseMessage\":\"Transacci√≥n Cancelada desde el POS\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null,\"operationNumber\":\"576\"}","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 576","timestamp":"2025-04-25 15:21:12"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:21:36"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"120\",\"authorizationCode\":\"119412\",\"amount\":50005,\"last4Digits\":6590,\"operationNumber\":\"168\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152148\"}","timestamp":"2025-04-25 15:21:47"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 168","timestamp":"2025-04-25 15:21:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:22:59"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"253439\",\"authorizationCode\":\"769674\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"169\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152313\"}","timestamp":"2025-04-25 15:23:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 169","timestamp":"2025-04-25 15:23:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:23:57"}
{"level":"warn","message":"operationNumber no exist√≠a; asignado: 621","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null,\"operationNumber\":\"621\"}","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 621","timestamp":"2025-04-25 15:23:57"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 15:24:43"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 15:24:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 15:24:48"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 15:24:49"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:24:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"353020\",\"authorizationCode\":\"917873\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"170\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152501\"}","timestamp":"2025-04-25 15:24:59"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 170","timestamp":"2025-04-25 15:24:59"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 15:28:19"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"815182\",\"authorizationCode\":\"589280\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"171\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"152828\"}","timestamp":"2025-04-25 15:28:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 171","timestamp":"2025-04-25 15:28:27"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:41:28"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 15:58:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 16:14:48"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:15:05"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"448799\",\"authorizationCode\":\"397333\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"172\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"161523\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:15:21"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 172","timestamp":"2025-04-25 16:15:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:19:59"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"953709\",\"authorizationCode\":\"447446\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"173\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"162011\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:20:09"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 173","timestamp":"2025-04-25 16:20:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:21:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:27:33"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"446280\",\"authorizationCode\":\"512267\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"174\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"162746\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:27:44"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 174","timestamp":"2025-04-25 16:27:44"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:30:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:31:22"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-25 16:31:28"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":210,\"responseCode\":0,\"responseMessage\":\"Aprobado\",\"commerceCode\":597029414300,\"terminalId\":\"IM750193\",\"successful\":true,\"ticket\":\"118008\",\"authorizationCode\":\"184806\",\"amount\":100,\"last4Digits\":6590,\"operationNumber\":\"175\",\"cardType\":\"CR\",\"accountingDate\":\"\",\"accountNumber\":\"\",\"cardBrand\":\"VI\",\"realDate\":\"25042025\",\"realTime\":\"163143\",\"voucher\":null,\"shareType\":\"03\",\"sharesNumber\":\"03\",\"sharesAmount\":\"34\",\"sharesTypeComment\":\"CUOTAS SIN INTERES\"}","timestamp":"2025-04-25 16:31:41"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 175","timestamp":"2025-04-25 16:31:41"}
{"level":"info","message":"GET /api/payment","timestamp":"2025-04-25 16:33:25"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-25 16:33:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:34:35"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:34:54"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:35:06"}
{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-25 16:35:08"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:36:52"}
{"level":"info","message":"Respuesta venta - Operaci√≥n: {\"functionCode\":null,\"responseCode\":84,\"responseMessage\":\"Opere tarjeta\",\"commerceCode\":null,\"successful\":false,\"authorizationCode\":null,\"amount\":null,\"last4Digits\":null}","timestamp":"2025-04-25 16:36:53"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:36:53"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:39:52"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:39:52"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:39:56"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:40:24"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:40:24"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:50:14"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-25 16:50:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:50:31"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:50:31"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:50:35"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:51:32"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 176","timestamp":"2025-04-25 16:51:47"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-25 16:52:55"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:53:45"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 177","timestamp":"2025-04-25 16:53:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 16:57:36"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 16:57:36"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 16:59:44"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 16:59:49"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 178","timestamp":"2025-04-25 17:00:04"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:01:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 179","timestamp":"2025-04-25 17:01:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:02:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 180","timestamp":"2025-04-25 17:02:51"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:04:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 181","timestamp":"2025-04-25 17:04:24"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-25 17:05:29"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-25 17:05:29"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-25 17:05:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:06:04"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 182","timestamp":"2025-04-25 17:06:19"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-25 17:09:19"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 183","timestamp":"2025-04-25 17:09:36"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:17:52"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:17:54"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 09:17:54"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:17:56"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:17:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:18:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:18:53"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:18:55"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 09:18:55"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 09:18:57"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:18:57"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 09:19:00"}
{"level":"info","message":"POST /api/terminal/reconnect","timestamp":"2025-04-28 09:19:03"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 09:19:03"}
{"level":"info","message":"POST /api/terminal/connect","timestamp":"2025-04-28 09:19:08"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:19:08"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:24:33"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 185","timestamp":"2025-04-28 09:24:57"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:30:16"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:30:16"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:37:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:37:27"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 190","timestamp":"2025-04-28 09:37:39"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 09:37:43"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 09:37:54"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:46:14"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:46:14"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:46:15"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:46:15"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:46:16"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:46:17"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:47:39"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:47:39"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:49:03"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:49:03"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:49:04"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:51:13"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 193","timestamp":"2025-04-28 09:51:25"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:53:26"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 09:53:26"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:53:29"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:53:29"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:53:31"}
{"level":"info","message":"GET /","timestamp":"2025-04-28 09:53:48"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 09:53:48"}
{"level":"info","message":"GET /indes.html","timestamp":"2025-04-28 09:53:56"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:00"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 09:54:20"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 09:54:25"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 09:54:29"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 09:54:29"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 09:54:30"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 09:54:31"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 09:54:34"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:55:16"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 196","timestamp":"2025-04-28 09:55:26"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 09:57:23"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 197","timestamp":"2025-04-28 09:57:32"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 10:00:12"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 10:00:12"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 10:00:14"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 10:00:14"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 10:00:15"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 10:00:16"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:00:19"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 10:03:03"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 10:03:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 10:03:05"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 10:03:05"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 10:03:07"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:03:10"}
{"level":"info","message":"GET /index.html","timestamp":"2025-04-28 10:03:13"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 10:03:13"}
{"level":"info","message":"GET /","timestamp":"2025-04-28 10:03:17"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 10:03:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:03:39"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 200","timestamp":"2025-04-28 10:03:49"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:05:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 201","timestamp":"2025-04-28 10:06:06"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:20"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:22"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 10:06:29"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:10:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 202","timestamp":"2025-04-28 10:10:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:11:24"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 203","timestamp":"2025-04-28 10:11:33"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 10:13:44"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:15:49"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:15:53"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:16:01"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:16:05"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:18:13"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:18:19"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:18:51"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 204","timestamp":"2025-04-28 10:19:08"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:19:47"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:25:03"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:25:07"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:25:15"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 205","timestamp":"2025-04-28 10:25:31"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:29:10"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 10:29:13"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 10:29:20"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 206","timestamp":"2025-04-28 10:29:29"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:36:27"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 10:53:07"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:03:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:10"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:19"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:21"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:04:46"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 207","timestamp":"2025-04-28 11:05:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:06:20"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 208","timestamp":"2025-04-28 11:06:32"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:08:08"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 209","timestamp":"2025-04-28 11:08:24"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:09:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:11:17"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:11:21"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:12:46"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:12:51"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:13:42"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:13:46"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:15:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:15:58"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:18:00"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:18:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:18:32"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:18:37"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:18:40"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:18:44"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Conexi√≥n con POS cerrada correctamente","timestamp":"2025-04-28 11:19:48"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 11:19:53"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 11:19:53"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 11:19:55"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:20:44"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:20:47"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:21:35"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:21:39"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:22:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:22:40"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 11:23:05"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 11:23:05"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 11:23:07"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 11:23:07"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 11:23:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:23:18"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:23:22"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:23:38"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 212","timestamp":"2025-04-28 11:23:50"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:33:57"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 213","timestamp":"2025-04-28 11:34:17"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:36:18"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 214","timestamp":"2025-04-28 11:36:29"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:39:48"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:41:55"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:42:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:42:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 215","timestamp":"2025-04-28 11:43:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:47:07"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:47:58"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:48:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 11:48:23"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 11:48:54"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 219","timestamp":"2025-04-28 11:49:02"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 11:51:03"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 11:51:05"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-28 11:51:14"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 11:52:34"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 11:52:35"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:52:39"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 11:52:59"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 11:56:28"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:04:03"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:04:03"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:04:07"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:04:07"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:04:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:04:12"}
{"level":"info","message":"GET /api/payment/last-transaction","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:05:19"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:10:01"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:10:02"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:10:10"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:10:10"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:10:12"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:10:12"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:10:13"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:12:43"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:12:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:20:20"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:20:20"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:20:21"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:20:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:23:15"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:23:15"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:31:52"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:31:52"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:31:53"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:32:03"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:32:03"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:32:04"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:32:04"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n (manual 0250): this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:34:07"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:34:07"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:34:09"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:34:09"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:34:10"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:34:15"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:34:15"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:34:17"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 230","timestamp":"2025-04-28 12:34:17"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:34:33"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 230","timestamp":"2025-04-28 12:34:33"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:37:16"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:37:16"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:37:19"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:37:19"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:37:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:37:24"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 231","timestamp":"2025-04-28 12:37:25"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:37:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:37:37"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 232","timestamp":"2025-04-28 12:37:45"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:37:50"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 232","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:37:51"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:39:23"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:39:23"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:39:44"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:39:44"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:39:45"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 12:39:52"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:39:53"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:39:56"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:40:00"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 235","timestamp":"2025-04-28 12:40:08"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 235","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:40:14"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:43:15"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:43:15"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:43:17"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:43:17"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:43:18"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:43:19"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:43:27"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:43:30"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:43:34"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 237","timestamp":"2025-04-28 12:43:41"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error ejecutando comando manual 0250: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:47:23"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:47:23"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:47:25"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:47:25"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:47:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 238","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:47:32"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:49:51"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:49:51"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:49:55"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:49:55"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:49:56"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:50:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:50:34"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:34"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:50:41"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:50:41"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:50:43"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:50:47"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:47"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:51:19"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:51:19"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:51:36"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:51:36"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:51:38"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 12:51:39"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 12:51:39"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:51:41"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 12:51:42"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:51:43"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 12:51:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 242","timestamp":"2025-04-28 12:52:00"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:52:03"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:53:16"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 12:53:21"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:53:26"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:53:26"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:53:27"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 243","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:53:31"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 12:55:02"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 12:55:02"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 12:55:39"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 12:55:39"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 12:55:40"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:55:44"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 12:55:45"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 12:55:46"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 245","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:55:47"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 12:56:20"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 12:56:27"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 245","timestamp":"2025-04-28 12:56:28"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 12:56:28"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 13:00:20"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 245","timestamp":"2025-04-28 13:00:20"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 13:00:20"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 13:00:31"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 246","timestamp":"2025-04-28 13:00:39"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 13:00:43"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 246","timestamp":"2025-04-28 13:00:43"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 13:00:43"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 13:00:54"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 247","timestamp":"2025-04-28 13:01:04"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 13:01:08"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 247","timestamp":"2025-04-28 13:01:08"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 13:01:08"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 13:03:14"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 13:03:18"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 13:07:37"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 13:07:38"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 13:12:20"}
{"level":"info","message":"POST /api/terminal/release-port","timestamp":"2025-04-28 13:13:23"}
{"level":"info","message":"Conexi√≥n con POS cerrada correctamente","timestamp":"2025-04-28 13:13:23"}
{"level":"info","message":"POST /api/terminal/reconnect","timestamp":"2025-04-28 13:13:25"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 13:13:25"}
{"level":"info","message":"POST /api/terminal/reconnect","timestamp":"2025-04-28 13:13:38"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 13:13:38"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 13:14:09"}
{"level":"info","message":"POST /api/terminal/connect","timestamp":"2025-04-28 13:14:36"}
{"level":"error","message":"Error al conectar al puerto especificado: Could not open serial connection...","stack":"Error: Could not open serial connection...\n    at SerialPort.<anonymous> (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:6451)\n    at SerialPort._error (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:82:22)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:118:18","timestamp":"2025-04-28 13:14:36"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 13:14:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 13:14:48"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 13:14:48"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 13:14:48"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 13:14:48"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 13:14:48"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 13:14:48"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 13:14:49"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 13:14:49"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 13:14:49"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 13:14:49"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-28 13:14:53"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 13:14:57"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 13:14:59"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 13:15:00"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 13:18:42"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 13:18:42"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 13:18:44"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 13:18:44"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 13:18:44"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 13:18:44"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 13:18:44"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 13:18:44"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 13:18:45"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 13:18:45"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 13:18:45"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 13:18:45"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 13:18:57"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 13:18:57"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 13:18:59"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 13:19:01"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 13:19:01"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 13:20:32"}
{"level":"error","message":"‚ùå unhandledRejection: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8590\n    at onwriteError (node:internal/streams/writable:418:3)\n    at onwrite (node:internal/streams/writable:460:7)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:170:13","timestamp":"2025-04-28 13:20:32"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at:","timestamp":"2025-04-28 13:20:32"}
{"level":"info","message":"Recibida se√±al unhandledRejection. Cerrando servidor...","timestamp":"2025-04-28 13:20:32"}
{"level":"error","message":"Error al obtener √∫ltima transacci√≥n: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 13:20:34"}
{"level":"error","message":"Error obteniendo √∫ltima transacci√≥n: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 13:20:34"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 13:20:37"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 13:40:09"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 13:40:09"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 13:40:09"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 13:40:09"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 13:40:09"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 13:40:09"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 13:40:10"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 13:40:10"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 13:40:10"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 13:40:10"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 13:41:10"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 13:41:10"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 13:41:53"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 13:44:15"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 13:44:24"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 13:46:31"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 268","timestamp":"2025-04-28 13:46:44"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 13:49:15"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 13:49:15"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:09:24"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:09:24"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 14:09:24"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 14:09:24"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 14:09:24"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 14:09:24"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 14:09:25"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:10:29"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:10:29"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 14:10:29"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 14:10:29"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 14:10:29"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 14:10:29"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 14:10:30"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:11:58"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:11:58"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 14:11:58"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 14:11:58"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 14:11:58"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 14:11:58"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 14:11:59"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 14:11:59"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 14:11:59"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 14:11:59"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 14:12:33"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 14:12:33"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:12:36"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 14:12:36"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 14:12:37"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:12:38"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:13:18"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:13:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 277","timestamp":"2025-04-28 14:13:59"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:19:43"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 278","timestamp":"2025-04-28 14:20:06"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:25:47"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 279","timestamp":"2025-04-28 14:26:01"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 14:29:16"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:30:44"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:31:03"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:31:03"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): Could not open serial connection...","timestamp":"2025-04-28 14:31:03"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 14:31:03"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 14:31:05"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 14:31:05"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 14:31:05"}
{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"‚ùå uncaughtException: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1811:16)\n    at listenInCluster (node:net:1859:12)\n    at Server.listen (node:net:1947:7)\n    at startServer (/opt/lampp/htdocs/backTransbank-1/src/server.js:71:56)","syscall":"listen","timestamp":"2025-04-28 14:31:05"}
{"0":"f","1":"a","10":"c","100":"u","101":"n","102":" ","103":"m","104":"u","105":"l","106":"t","107":"i","108":"p","109":"l","11":"o","110":"e","111":" ","112":"s","113":"i","114":"m","115":"u","116":"l","117":"t","118":"a","119":"n","12":"n","120":"e","121":"o","122":"u","123":"s","124":" ","125":"t","126":"u","127":"n","128":"n","129":"e","13":"n","130":"l","131":"s","132":" ","133":"f","134":"r","135":"o","136":"m","137":" ","138":"a","139":" ","14":"e","140":"s","141":"i","142":"n","143":"g","144":"l","145":"e","146":" ","147":"a","148":"g","149":"e","15":"c","150":"n","151":"t","152":" ","153":"s","154":"e","155":"s","156":"s","157":"i","158":"o","159":"n","16":"t","160":" ","161":"b","162":"y","163":" ","164":"d","165":"e","166":"f","167":"i","168":"n","169":"i","17":" ","170":"n","171":"g","172":" ","173":"t","174":"h","175":"e","176":" ","177":"t","178":"u","179":"n","18":"s","180":"n","181":"e","182":"l","183":"s","184":" ","185":"i","186":"n","187":" ","188":"y","189":"o","19":"e","190":"u","191":"r","192":" ","193":"a","194":"g","195":"e","196":"n","197":"t","198":" ","199":"c","2":"i","20":"s","200":"o","201":"n","202":"f","203":"i","204":"g","205":"u","206":"r","207":"a","208":"t","209":"i","21":"s","210":"o","211":"n","212":" ","213":"f","214":"i","215":"l","216":"e","217":" ","218":"a","219":"n","22":"i","220":"d","221":" ","222":"s","223":"t","224":"a","225":"r","226":"t","227":"i","228":"n","229":"g","23":"o","230":" ","231":"t","232":"h","233":"e","234":"m","235":" ","236":"w","237":"i","238":"t","239":"h","24":"n","240":" ","241":"t","242":"h","243":"e","244":" ","245":"c","246":"o","247":"m","248":"m","249":"a","25":":","250":"n","251":"d","252":" ","253":"`","254":"n","255":"g","256":"r","257":"o","258":"k","259":" ","26":" ","260":"s","261":"t","262":"a","263":"r","264":"t","265":" ","266":"-","267":"-","268":"a","269":"l","27":"Y","270":"l","271":"`","272":".","273":"\n","274":"R","275":"e","276":"a","277":"d","278":" ","279":"m","28":"o","280":"o","281":"r","282":"e","283":" ","284":"a","285":"b","286":"o","287":"u","288":"t","289":" ","29":"u","290":"t","291":"h","292":"e","293":" ","294":"a","295":"g","296":"e","297":"n","298":"t","299":" ","3":"l","30":"r","300":"c","301":"o","302":"n","303":"f","304":"i","305":"g","306":"u","307":"r","308":"a","309":"t","31":" ","310":"i","311":"o","312":"n","313":" ","314":"f","315":"i","316":"l","317":"e","318":":","319":" ","32":"a","320":"h","321":"t","322":"t","323":"p","324":"s","325":":","326":"/","327":"/","328":"n","329":"g","33":"c","330":"r","331":"o","332":"k","333":".","334":"c","335":"o","336":"m","337":"/","338":"d","339":"o","34":"c","340":"c","341":"s","342":"/","343":"s","344":"e","345":"c","346":"u","347":"r","348":"e","349":"-","35":"o","350":"t","351":"u","352":"n","353":"n","354":"e","355":"l","356":"s","357":"/","358":"n","359":"g","36":"u","360":"r","361":"o","362":"k","363":"-","364":"a","365":"g","366":"e","367":"n","368":"t","369":"/","37":"n","370":"r","371":"e","372":"f","373":"e","374":"r","375":"e","376":"n","377":"c","378":"e","379":"/","38":"t","380":"c","381":"o","382":"n","383":"f","384":"i","385":"g","386":"\n","387":"Y","388":"o","389":"u","39":" ","390":" ","391":"c","392":"a","393":"n","394":" ","395":"v","396":"i","397":"e","398":"w","399":" ","4":"e","40":"i","400":"y","401":"o","402":"u","403":"r","404":" ","405":"c","406":"u","407":"r","408":"r","409":"e","41":"s","410":"n","411":"t","412":" ","413":"a","414":"g","415":"e","416":"n","417":"t","418":" ","419":"s","42":" ","420":"e","421":"s","422":"s","423":"i","424":"o","425":"n","426":"s","427":" ","428":"i","429":"n","43":"l","430":" ","431":"t","432":"h","433":"e","434":" ","435":"d","436":"a","437":"s","438":"h","439":"b","44":"i","440":"o","441":"a","442":"r","443":"d","444":":","445":"\n","446":"h","447":"t","448":"t","449":"p","45":"m","450":"s","451":":","452":"/","453":"/","454":"d","455":"a","456":"s","457":"h","458":"b","459":"o","46":"i","460":"a","461":"r","462":"d","463":".","464":"n","465":"g","466":"r","467":"o","468":"k","469":".","47":"t","470":"c","471":"o","472":"m","473":"/","474":"a","475":"g","476":"e","477":"n","478":"t","479":"s","48":"e","480":" ","481":"e","482":"r","483":"r","484":"o","485":"r","486":"_","487":"c","488":"o","489":"d","49":"d","490":"e","491":":","492":" ","493":"E","494":"R","495":"R","496":"_","497":"N","498":"G","499":"R","5":"d","50":" ","500":"O","501":"K","502":"_","503":"1","504":"0","505":"8","51":"t","52":"o","53":" ","54":"1","55":" ","56":"s","57":"i","58":"m","59":"u","6":" ","60":"l","61":"t","62":"a","63":"n","64":"e","65":"o","66":"u","67":"s","68":" ","69":"n","7":"t","70":"g","71":"r","72":"o","73":"k","74":" ","75":"a","76":"g","77":"e","78":"n","79":"t","8":"o","80":" ","81":"s","82":"e","83":"s","84":"s","85":"i","86":"o","87":"n","88":"s","89":".","9":" ","90":"\n","91":"Y","92":"o","93":"u","94":" ","95":"c","96":"a","97":"n","98":" ","99":"r","level":"error","message":"Error al iniciar ngrok:","timestamp":"2025-04-28 14:31:07"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 14:31:17"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:31:20"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:31:20"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): Could not open serial connection...","timestamp":"2025-04-28 14:31:20"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM0: Could not open serial connection...","timestamp":"2025-04-28 14:31:20"}
{"level":"warn","message":"Fall√≥ conexi√≥n a /dev/ttyACM1: ACK has not been received in 2000 ms.","timestamp":"2025-04-28 14:31:22"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 14:31:22"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 14:31:22"}
{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"‚ùå uncaughtException: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1811:16)\n    at listenInCluster (node:net:1859:12)\n    at Server.listen (node:net:1947:7)\n    at startServer (/opt/lampp/htdocs/backTransbank-1/src/server.js:71:56)","syscall":"listen","timestamp":"2025-04-28 14:31:22"}
{"0":"f","1":"a","10":"c","100":"u","101":"n","102":" ","103":"m","104":"u","105":"l","106":"t","107":"i","108":"p","109":"l","11":"o","110":"e","111":" ","112":"s","113":"i","114":"m","115":"u","116":"l","117":"t","118":"a","119":"n","12":"n","120":"e","121":"o","122":"u","123":"s","124":" ","125":"t","126":"u","127":"n","128":"n","129":"e","13":"n","130":"l","131":"s","132":" ","133":"f","134":"r","135":"o","136":"m","137":" ","138":"a","139":" ","14":"e","140":"s","141":"i","142":"n","143":"g","144":"l","145":"e","146":" ","147":"a","148":"g","149":"e","15":"c","150":"n","151":"t","152":" ","153":"s","154":"e","155":"s","156":"s","157":"i","158":"o","159":"n","16":"t","160":" ","161":"b","162":"y","163":" ","164":"d","165":"e","166":"f","167":"i","168":"n","169":"i","17":" ","170":"n","171":"g","172":" ","173":"t","174":"h","175":"e","176":" ","177":"t","178":"u","179":"n","18":"s","180":"n","181":"e","182":"l","183":"s","184":" ","185":"i","186":"n","187":" ","188":"y","189":"o","19":"e","190":"u","191":"r","192":" ","193":"a","194":"g","195":"e","196":"n","197":"t","198":" ","199":"c","2":"i","20":"s","200":"o","201":"n","202":"f","203":"i","204":"g","205":"u","206":"r","207":"a","208":"t","209":"i","21":"s","210":"o","211":"n","212":" ","213":"f","214":"i","215":"l","216":"e","217":" ","218":"a","219":"n","22":"i","220":"d","221":" ","222":"s","223":"t","224":"a","225":"r","226":"t","227":"i","228":"n","229":"g","23":"o","230":" ","231":"t","232":"h","233":"e","234":"m","235":" ","236":"w","237":"i","238":"t","239":"h","24":"n","240":" ","241":"t","242":"h","243":"e","244":" ","245":"c","246":"o","247":"m","248":"m","249":"a","25":":","250":"n","251":"d","252":" ","253":"`","254":"n","255":"g","256":"r","257":"o","258":"k","259":" ","26":" ","260":"s","261":"t","262":"a","263":"r","264":"t","265":" ","266":"-","267":"-","268":"a","269":"l","27":"Y","270":"l","271":"`","272":".","273":"\n","274":"R","275":"e","276":"a","277":"d","278":" ","279":"m","28":"o","280":"o","281":"r","282":"e","283":" ","284":"a","285":"b","286":"o","287":"u","288":"t","289":" ","29":"u","290":"t","291":"h","292":"e","293":" ","294":"a","295":"g","296":"e","297":"n","298":"t","299":" ","3":"l","30":"r","300":"c","301":"o","302":"n","303":"f","304":"i","305":"g","306":"u","307":"r","308":"a","309":"t","31":" ","310":"i","311":"o","312":"n","313":" ","314":"f","315":"i","316":"l","317":"e","318":":","319":" ","32":"a","320":"h","321":"t","322":"t","323":"p","324":"s","325":":","326":"/","327":"/","328":"n","329":"g","33":"c","330":"r","331":"o","332":"k","333":".","334":"c","335":"o","336":"m","337":"/","338":"d","339":"o","34":"c","340":"c","341":"s","342":"/","343":"s","344":"e","345":"c","346":"u","347":"r","348":"e","349":"-","35":"o","350":"t","351":"u","352":"n","353":"n","354":"e","355":"l","356":"s","357":"/","358":"n","359":"g","36":"u","360":"r","361":"o","362":"k","363":"-","364":"a","365":"g","366":"e","367":"n","368":"t","369":"/","37":"n","370":"r","371":"e","372":"f","373":"e","374":"r","375":"e","376":"n","377":"c","378":"e","379":"/","38":"t","380":"c","381":"o","382":"n","383":"f","384":"i","385":"g","386":"\n","387":"Y","388":"o","389":"u","39":" ","390":" ","391":"c","392":"a","393":"n","394":" ","395":"v","396":"i","397":"e","398":"w","399":" ","4":"e","40":"i","400":"y","401":"o","402":"u","403":"r","404":" ","405":"c","406":"u","407":"r","408":"r","409":"e","41":"s","410":"n","411":"t","412":" ","413":"a","414":"g","415":"e","416":"n","417":"t","418":" ","419":"s","42":" ","420":"e","421":"s","422":"s","423":"i","424":"o","425":"n","426":"s","427":" ","428":"i","429":"n","43":"l","430":" ","431":"t","432":"h","433":"e","434":" ","435":"d","436":"a","437":"s","438":"h","439":"b","44":"i","440":"o","441":"a","442":"r","443":"d","444":":","445":"\n","446":"h","447":"t","448":"t","449":"p","45":"m","450":"s","451":":","452":"/","453":"/","454":"d","455":"a","456":"s","457":"h","458":"b","459":"o","46":"i","460":"a","461":"r","462":"d","463":".","464":"n","465":"g","466":"r","467":"o","468":"k","469":".","47":"t","470":"c","471":"o","472":"m","473":"/","474":"a","475":"g","476":"e","477":"n","478":"t","479":"s","48":"e","480":" ","481":"e","482":"r","483":"r","484":"o","485":"r","486":"_","487":"c","488":"o","489":"d","49":"d","490":"e","491":":","492":" ","493":"E","494":"R","495":"R","496":"_","497":"N","498":"G","499":"R","5":"d","50":" ","500":"O","501":"K","502":"_","503":"1","504":"0","505":"8","51":"t","52":"o","53":" ","54":"1","55":" ","56":"s","57":"i","58":"m","59":"u","6":" ","60":"l","61":"t","62":"a","63":"n","64":"e","65":"o","66":"u","67":"s","68":" ","69":"n","7":"t","70":"g","71":"r","72":"o","73":"k","74":" ","75":"a","76":"g","77":"e","78":"n","79":"t","8":"o","80":" ","81":"s","82":"e","83":"s","84":"s","85":"i","86":"o","87":"n","88":"s","89":".","9":" ","90":"\n","91":"Y","92":"o","93":"u","94":" ","95":"c","96":"a","97":"n","98":" ","99":"r","level":"error","message":"Error al iniciar ngrok:","timestamp":"2025-04-28 14:31:23"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 14:31:40"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 14:31:40"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 14:31:51"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 14:31:51"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 14:31:51"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 14:31:51"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 14:31:51"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 14:31:51"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 14:31:52"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 14:31:52"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 14:31:52"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 14:31:52"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:32:01"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 14:32:30"}
{"level":"info","message":"GET /health","timestamp":"2025-04-28 14:32:33"}
{"level":"info","message":"GET /api/terminal/ports","timestamp":"2025-04-28 14:32:41"}
{"level":"info","message":"GET /api/terminal/last-transaction","timestamp":"2025-04-28 14:32:46"}
{"level":"info","message":"√öltima transacci√≥n obtenida - Operaci√≥n: 280","timestamp":"2025-04-28 14:32:46"}
{"level":"info","message":"RAW RESPONSE de getLastSale:","timestamp":"2025-04-28 14:32:46"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:32:52"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 281","timestamp":"2025-04-28 14:33:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:36:24"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:36:54"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:44:35"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:45:12"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 14:48:32"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:50:03"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:50:51"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:53:32"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:54:09"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:56:26"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:57:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 14:59:06"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 14:59:20"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:02:48"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:02:56"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 15:05:12"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:06:59"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:07:25"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:10:10"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:10:26"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:12:12"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:12:31"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:14:31"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:14:48"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:14:49"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:17:59"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:18:00"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:19:01"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:21:29"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:21:46"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 15:21:52"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:21:53"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 284","timestamp":"2025-04-28 15:22:04"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:23:02"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 285","timestamp":"2025-04-28 15:23:25"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:24:36"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:24:36"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:24:47"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:24:47"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:24:54"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:24:54"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:24:55"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:25:04"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:25:04"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:25:10"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:25:10"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:25:14"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:25:14"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:25:38"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:25:43"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:25:43"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:25:45"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:25:46"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:26:55"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:26:55"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:27:17"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:27:17"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:27:26"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:27:37"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:28:28"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:28:29"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:28:32"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:28:38"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:28:42"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:28:54"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:28:54"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:29:03"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:29:03"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:29:03"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:29:03"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:29:03"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:29:03"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:29:04"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:29:04"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:29:04"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:29:04"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:29:11"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:30:56"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:30:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:31:10"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:31:10"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:31:16"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:31:16"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:31:17"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:31:19"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:31:19"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:31:21"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:31:32"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:32:05"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:32:05"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:32:10"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:32:10"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:32:13"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:32:14"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:32:37"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:32:38"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:33:09"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:33:12"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:33:38"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:33:39"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:33:48"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:33:49"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:36:34"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:36:35"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:36:40"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:36:40"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:36:43"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:36:43"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:36:51"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:36:51"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:36:54"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:36:54"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:37:19"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:37:20"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:37:28"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:37:29"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:37:33"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:37:34"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:37:35"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:37:36"}
{"level":"info","message":"POST /api/terminal/cierre-diario","timestamp":"2025-04-28 15:37:41"}
{"level":"info","message":"Cierre de terminal exitoso","timestamp":"2025-04-28 15:37:42"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:41:45"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:41:45"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:41:49"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:41:49"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): Could not open serial connection...","timestamp":"2025-04-28 15:41:49"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 15:41:49"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:41:49"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:41:49"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:41:55"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:41:59"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:41:59"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:42:01"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:42:16"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:42:16"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:42:19"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:42:21"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:42:21"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): Could not open serial connection...","timestamp":"2025-04-28 15:42:21"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 15:42:21"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:42:21"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:42:21"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:42:25"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:42:37"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:42:39"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:42:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:42:46"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:44:27"}
{"level":"error","message":"Error durante la venta: You have to connect to a POS to send this message: 0200|000000100|420964|0|0","stack":"Error: You have to connect to a POS to send this message: 0200|000000100|420964|0|0\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8024\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 15:44:27"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:44:54"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:44:56"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:44:56"}
{"level":"warn","message":"No se pudo conectar a puerto preferido (/dev/ttyACM0): Could not open serial connection...","timestamp":"2025-04-28 15:44:56"}
{"level":"error","message":"‚ùå No se pudo conectar a ning√∫n puerto POS v√°lido","timestamp":"2025-04-28 15:44:56"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:44:56"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:44:56"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:45:00"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:45:10"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:45:10"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:45:10"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:45:10"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:45:10"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:45:10"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:45:11"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:45:11"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:45:11"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:45:11"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:45:14"}
{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:16"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:45:48"}
{"level":"error","message":"Error al inicializar terminal (cargar llaves): ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:50"}
{"level":"error","message":"Error inicializando terminal: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:50"}
{"level":"info","message":"POST /api/terminal/loadKeys","timestamp":"2025-04-28 15:46:03"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:46:03"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:46:07"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:46:10"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:46:21"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:46:42"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:46:53"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 312","timestamp":"2025-04-28 15:47:03"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:49:33"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:50:03"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:50:15"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: undefined","timestamp":"2025-04-28 15:50:45"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:50:48"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:51:00"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:51:00"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:51:02"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:51:02"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:51:02"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:51:02"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:51:02"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:51:02"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:51:03"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:51:03"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:51:03"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:51:03"}
{"level":"info","message":"POST /api/payment","timestamp":"2025-04-28 15:51:11"}
{"level":"info","message":"Venta exitosa - Operaci√≥n: 316","timestamp":"2025-04-28 15:51:25"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:56:43"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:56:43"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:56:45"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:56:45"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:56:45"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:56:45"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:56:45"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:56:45"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:56:46"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:56:46"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:56:46"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:56:46"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:56:50"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:56:50"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:56:51"}
{"level":"info","message":"Recibida se√±al SIGINT. Cerrando servidor...","timestamp":"2025-04-28 15:57:36"}
{"level":"info","message":"Servidor HTTPS cerrado","timestamp":"2025-04-28 15:57:36"}
{"level":"info","message":"Iniciando servidor en modo development","timestamp":"2025-04-28 15:57:38"}
{"level":"warn","message":"No hay conexi√≥n activa que cerrar","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"Conectado manualmente al puerto /dev/ttyACM0","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"POS conectado a puerto preferido: undefined","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"Commerce Code: tu_codigo_comercio","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"Terminal ID: IM750193","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"Inicializaci√≥n del terminal completada (llaves cargadas)","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"üîê Llaves cargadas exitosamente","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"üîÑ Iniciando monitor de salud del POS","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"Servidor Transbank POS con SSL escuchando en https://localhost:3000","timestamp":"2025-04-28 15:57:38"}
{"level":"info","message":"GET /tester","timestamp":"2025-04-28 15:57:42"}
{"level":"info","message":"GET /favicon.ico","timestamp":"2025-04-28 15:57:42"}
{"level":"info","message":"GET /api/terminal/status","timestamp":"2025-04-28 15:57:44"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 16:14:18"}
{"level":"info","message":"‚úÖ POS saludable y conectado","timestamp":"2025-04-28 16:30:58"}
