{"level":"error","message":"Error al conectar al puerto especificado: Cannot read properties of undefined (reading 'portPath')","stack":"TypeError: Cannot read properties of undefined (reading 'portPath')\n    at exports.conectarPuerto (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:53:31)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-29 13:53:57"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-29 13:54:15"}
{"level":"error","message":"Error al conectar al puerto especificado: Cannot read properties of undefined (reading 'portPath')","stack":"TypeError: Cannot read properties of undefined (reading 'portPath')\n    at exports.conectarPuerto (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:53:31)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-29 13:54:26"}
{"level":"error","message":"Error al conectar al puerto especificado: Could not open serial connection...","stack":"Error: Could not open serial connection...\n    at SerialPort.<anonymous> (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:6451)\n    at SerialPort._error (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:82:22)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:118:18","timestamp":"2025-04-29 13:54:36"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-29 13:55:02"}
{"level":"error","message":"Error al conectar al puerto especificado: Cannot read properties of undefined (reading 'portPath')","stack":"TypeError: Cannot read properties of undefined (reading 'portPath')\n    at exports.conectarPuerto (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:53:31)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-29 13:55:14"}
{"level":"error","message":"Error al inicializar terminal (cargar llaves): You have to connect to a POS to send this message: 0800","stack":"Error: You have to connect to a POS to send this message: 0800\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8024\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.loadKeys (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:9257)\n    at TransbankService.loadKey (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:112:22)\n    at exports.loadKey (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:18:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-29 13:55:18"}
{"level":"error","message":"Error inicializando terminal: You have to connect to a POS to send this message: 0800","stack":"Error: You have to connect to a POS to send this message: 0800\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8024\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.loadKeys (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:9257)\n    at TransbankService.loadKey (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:112:22)\n    at exports.loadKey (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:18:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-29 13:55:18"}
{"level":"error","message":"Error al conectar al puerto especificado: Cannot read properties of undefined (reading 'portPath')","stack":"TypeError: Cannot read properties of undefined (reading 'portPath')\n    at exports.conectarPuerto (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:53:31)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-29 13:55:29"}
{"level":"error","message":"Error durante la venta: Response of POS has not been received in 150 seconds","stack":"Error: Response of POS has not been received in 150 seconds\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8715)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-29 14:13:47"}
{"level":"error","message":"Error durante la venta: Response of POS has not been received in 150 seconds","stack":"Error: Response of POS has not been received in 150 seconds\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8715)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-29 14:18:53"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-29 14:20:58"}
{"level":"error","message":"Error durante la venta: Response of POS has not been received in 150 seconds","stack":"Error: Response of POS has not been received in 150 seconds\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8715)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-29 14:24:07"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-29 14:26:41"}
{"level":"error","message":"Error durante la venta: Response of POS has not been received in 150 seconds","stack":"Error: Response of POS has not been received in 150 seconds\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8715)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-29 14:30:28"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-29 14:34:22"}
{"level":"error","message":"Error al conectar al puerto especificado: Could not open serial connection...","stack":"Error: Could not open serial connection...\n    at SerialPort.<anonymous> (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:6451)\n    at SerialPort._error (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:82:22)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:118:18","timestamp":"2025-04-29 14:34:24"}
{"level":"error","message":"Error al conectar al puerto especificado: Could not open serial connection...","stack":"Error: Could not open serial connection...\n    at SerialPort.<anonymous> (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:6451)\n    at SerialPort._error (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:82:22)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:118:18","timestamp":"2025-04-29 14:34:37"}
{"code":"MODULE_NOT_FOUND","level":"error","message":"❌ uncaughtException: Cannot find module './utils/posHealthMonitor'\nRequire stack:\n- /opt/lampp/htdocs/backTransbank-1/src/server.js","requireStack":["/opt/lampp/htdocs/backTransbank-1/src/server.js"],"stack":"Error: Cannot find module './utils/posHealthMonitor'\nRequire stack:\n- /opt/lampp/htdocs/backTransbank-1/src/server.js\n    at Module._resolveFilename (node:internal/modules/cjs/loader:1134:15)\n    at Module._load (node:internal/modules/cjs/loader:975:27)\n    at Module.require (node:internal/modules/cjs/loader:1225:19)\n    at require (node:internal/modules/helpers:177:18)\n    at Object.<anonymous> (/opt/lampp/htdocs/backTransbank-1/src/server.js:5:25)\n    at Module._compile (node:internal/modules/cjs/loader:1356:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1414:10)\n    at Module.load (node:internal/modules/cjs/loader:1197:32)\n    at Module._load (node:internal/modules/cjs/loader:1013:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:128:12)","timestamp":"2025-04-29 16:05:34"}
{"level":"error","message":"Error al iniciar monitor de salud: Cannot read properties of undefined (reading 'status')","stack":"TypeError: Cannot read properties of undefined (reading 'status')\n    at Object.success (/opt/lampp/htdocs/backTransbank-1/src/utils/responseHandler.js:3:9)\n    at exports.startHealthMonitor (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:32:21)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startServer (/opt/lampp/htdocs/backTransbank-1/src/server.js:63:5)","timestamp":"2025-04-29 16:05:42"}
