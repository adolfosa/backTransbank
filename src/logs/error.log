{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-25 16:35:08"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 09:17:56"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 09:18:57"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 09:19:03"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 09:54:25"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error al obtener última transacción manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error al obtener última transacción manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error al obtener última transacción (manual 0250): this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error obteniendo última transacción: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error ejecutando comando manual 0250: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error obteniendo última transacción: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:34"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:47"}
{"level":"error","message":"Error al obtener última transacción: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error obteniendo última transacción: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 12:53:21"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 13:13:25"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 13:13:38"}
{"level":"error","message":"Error al conectar al puerto especificado: Could not open serial connection...","stack":"Error: Could not open serial connection...\n    at SerialPort.<anonymous> (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:6451)\n    at SerialPort._error (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:82:22)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:118:18","timestamp":"2025-04-28 13:14:36"}
{"level":"error","message":"❌ unhandledRejection: Cannot read properties of undefined (reading 'debug')","stack":"TypeError: Cannot read properties of undefined (reading 'debug')\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8590\n    at onwriteError (node:internal/streams/writable:418:3)\n    at onwrite (node:internal/streams/writable:460:7)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/node_modules/@serialport/stream/dist/index.js:170:13","timestamp":"2025-04-28 13:20:32"}
{"0":"r","1":"e","2":"a","3":"s","4":"o","5":"n","6":":","level":"error","message":"Unhandled Rejection at:","timestamp":"2025-04-28 13:20:32"}
{"level":"error","message":"Error al obtener última transacción: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 13:20:34"}
{"level":"error","message":"Error obteniendo última transacción: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 13:20:34"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 13:20:37"}
{"0":"E","1":"N","10":" ","11":"s","12":"u","13":"c","14":"h","15":" ","16":"f","17":"i","18":"l","19":"e","2":"O","20":" ","21":"o","22":"r","23":" ","24":"d","25":"i","26":"r","27":"e","28":"c","29":"t","3":"E","30":"o","31":"r","32":"y","33":",","34":" ","35":"o","36":"p","37":"e","38":"n","39":" ","4":"N","40":"'","41":"/","42":"o","43":"p","44":"t","45":"/","46":"l","47":"a","48":"m","49":"p","5":"T","50":"p","51":"/","52":"h","53":"t","54":"d","55":"o","56":"c","57":"s","58":"/","59":"b","6":":","60":"a","61":"c","62":"k","63":"T","64":"r","65":"a","66":"n","67":"s","68":"b","69":"a","7":" ","70":"n","71":"k","72":"-","73":"1","74":"/","75":"s","76":"s","77":"l","78":"/","79":"k","8":"n","80":"e","81":"y","82":".","83":"p","84":"e","85":"m","86":"'","9":"o","level":"error","message":"Error crítico al iniciar el servidor:","timestamp":"2025-04-28 14:09:25"}
{"0":"E","1":"N","10":" ","11":"s","12":"u","13":"c","14":"h","15":" ","16":"f","17":"i","18":"l","19":"e","2":"O","20":" ","21":"o","22":"r","23":" ","24":"d","25":"i","26":"r","27":"e","28":"c","29":"t","3":"E","30":"o","31":"r","32":"y","33":",","34":" ","35":"o","36":"p","37":"e","38":"n","39":" ","4":"N","40":"'","41":"/","42":"o","43":"p","44":"t","45":"/","46":"l","47":"a","48":"m","49":"p","5":"T","50":"p","51":"/","52":"h","53":"t","54":"d","55":"o","56":"c","57":"s","58":"/","59":"b","6":":","60":"a","61":"c","62":"k","63":"T","64":"r","65":"a","66":"n","67":"s","68":"b","69":"a","7":" ","70":"n","71":"k","72":"-","73":"1","74":"/","75":"s","76":"s","77":"l","78":"/","79":"k","8":"n","80":"e","81":"y","82":".","83":"p","84":"e","85":"m","86":"'","9":"o","level":"error","message":"Error crítico al iniciar el servidor:","timestamp":"2025-04-28 14:10:30"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 14:31:05"}
{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"❌ uncaughtException: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1811:16)\n    at listenInCluster (node:net:1859:12)\n    at Server.listen (node:net:1947:7)\n    at startServer (/opt/lampp/htdocs/backTransbank-1/src/server.js:71:56)","syscall":"listen","timestamp":"2025-04-28 14:31:05"}
{"0":"f","1":"a","10":"c","100":"u","101":"n","102":" ","103":"m","104":"u","105":"l","106":"t","107":"i","108":"p","109":"l","11":"o","110":"e","111":" ","112":"s","113":"i","114":"m","115":"u","116":"l","117":"t","118":"a","119":"n","12":"n","120":"e","121":"o","122":"u","123":"s","124":" ","125":"t","126":"u","127":"n","128":"n","129":"e","13":"n","130":"l","131":"s","132":" ","133":"f","134":"r","135":"o","136":"m","137":" ","138":"a","139":" ","14":"e","140":"s","141":"i","142":"n","143":"g","144":"l","145":"e","146":" ","147":"a","148":"g","149":"e","15":"c","150":"n","151":"t","152":" ","153":"s","154":"e","155":"s","156":"s","157":"i","158":"o","159":"n","16":"t","160":" ","161":"b","162":"y","163":" ","164":"d","165":"e","166":"f","167":"i","168":"n","169":"i","17":" ","170":"n","171":"g","172":" ","173":"t","174":"h","175":"e","176":" ","177":"t","178":"u","179":"n","18":"s","180":"n","181":"e","182":"l","183":"s","184":" ","185":"i","186":"n","187":" ","188":"y","189":"o","19":"e","190":"u","191":"r","192":" ","193":"a","194":"g","195":"e","196":"n","197":"t","198":" ","199":"c","2":"i","20":"s","200":"o","201":"n","202":"f","203":"i","204":"g","205":"u","206":"r","207":"a","208":"t","209":"i","21":"s","210":"o","211":"n","212":" ","213":"f","214":"i","215":"l","216":"e","217":" ","218":"a","219":"n","22":"i","220":"d","221":" ","222":"s","223":"t","224":"a","225":"r","226":"t","227":"i","228":"n","229":"g","23":"o","230":" ","231":"t","232":"h","233":"e","234":"m","235":" ","236":"w","237":"i","238":"t","239":"h","24":"n","240":" ","241":"t","242":"h","243":"e","244":" ","245":"c","246":"o","247":"m","248":"m","249":"a","25":":","250":"n","251":"d","252":" ","253":"`","254":"n","255":"g","256":"r","257":"o","258":"k","259":" ","26":" ","260":"s","261":"t","262":"a","263":"r","264":"t","265":" ","266":"-","267":"-","268":"a","269":"l","27":"Y","270":"l","271":"`","272":".","273":"\n","274":"R","275":"e","276":"a","277":"d","278":" ","279":"m","28":"o","280":"o","281":"r","282":"e","283":" ","284":"a","285":"b","286":"o","287":"u","288":"t","289":" ","29":"u","290":"t","291":"h","292":"e","293":" ","294":"a","295":"g","296":"e","297":"n","298":"t","299":" ","3":"l","30":"r","300":"c","301":"o","302":"n","303":"f","304":"i","305":"g","306":"u","307":"r","308":"a","309":"t","31":" ","310":"i","311":"o","312":"n","313":" ","314":"f","315":"i","316":"l","317":"e","318":":","319":" ","32":"a","320":"h","321":"t","322":"t","323":"p","324":"s","325":":","326":"/","327":"/","328":"n","329":"g","33":"c","330":"r","331":"o","332":"k","333":".","334":"c","335":"o","336":"m","337":"/","338":"d","339":"o","34":"c","340":"c","341":"s","342":"/","343":"s","344":"e","345":"c","346":"u","347":"r","348":"e","349":"-","35":"o","350":"t","351":"u","352":"n","353":"n","354":"e","355":"l","356":"s","357":"/","358":"n","359":"g","36":"u","360":"r","361":"o","362":"k","363":"-","364":"a","365":"g","366":"e","367":"n","368":"t","369":"/","37":"n","370":"r","371":"e","372":"f","373":"e","374":"r","375":"e","376":"n","377":"c","378":"e","379":"/","38":"t","380":"c","381":"o","382":"n","383":"f","384":"i","385":"g","386":"\n","387":"Y","388":"o","389":"u","39":" ","390":" ","391":"c","392":"a","393":"n","394":" ","395":"v","396":"i","397":"e","398":"w","399":" ","4":"e","40":"i","400":"y","401":"o","402":"u","403":"r","404":" ","405":"c","406":"u","407":"r","408":"r","409":"e","41":"s","410":"n","411":"t","412":" ","413":"a","414":"g","415":"e","416":"n","417":"t","418":" ","419":"s","42":" ","420":"e","421":"s","422":"s","423":"i","424":"o","425":"n","426":"s","427":" ","428":"i","429":"n","43":"l","430":" ","431":"t","432":"h","433":"e","434":" ","435":"d","436":"a","437":"s","438":"h","439":"b","44":"i","440":"o","441":"a","442":"r","443":"d","444":":","445":"\n","446":"h","447":"t","448":"t","449":"p","45":"m","450":"s","451":":","452":"/","453":"/","454":"d","455":"a","456":"s","457":"h","458":"b","459":"o","46":"i","460":"a","461":"r","462":"d","463":".","464":"n","465":"g","466":"r","467":"o","468":"k","469":".","47":"t","470":"c","471":"o","472":"m","473":"/","474":"a","475":"g","476":"e","477":"n","478":"t","479":"s","48":"e","480":" ","481":"e","482":"r","483":"r","484":"o","485":"r","486":"_","487":"c","488":"o","489":"d","49":"d","490":"e","491":":","492":" ","493":"E","494":"R","495":"R","496":"_","497":"N","498":"G","499":"R","5":"d","50":" ","500":"O","501":"K","502":"_","503":"1","504":"0","505":"8","51":"t","52":"o","53":" ","54":"1","55":" ","56":"s","57":"i","58":"m","59":"u","6":" ","60":"l","61":"t","62":"a","63":"n","64":"e","65":"o","66":"u","67":"s","68":" ","69":"n","7":"t","70":"g","71":"r","72":"o","73":"k","74":" ","75":"a","76":"g","77":"e","78":"n","79":"t","8":"o","80":" ","81":"s","82":"e","83":"s","84":"s","85":"i","86":"o","87":"n","88":"s","89":".","9":" ","90":"\n","91":"Y","92":"o","93":"u","94":" ","95":"c","96":"a","97":"n","98":" ","99":"r","level":"error","message":"Error al iniciar ngrok:","timestamp":"2025-04-28 14:31:07"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 14:31:22"}
{"address":"::","code":"EADDRINUSE","errno":-98,"level":"error","message":"❌ uncaughtException: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1811:16)\n    at listenInCluster (node:net:1859:12)\n    at Server.listen (node:net:1947:7)\n    at startServer (/opt/lampp/htdocs/backTransbank-1/src/server.js:71:56)","syscall":"listen","timestamp":"2025-04-28 14:31:22"}
{"0":"f","1":"a","10":"c","100":"u","101":"n","102":" ","103":"m","104":"u","105":"l","106":"t","107":"i","108":"p","109":"l","11":"o","110":"e","111":" ","112":"s","113":"i","114":"m","115":"u","116":"l","117":"t","118":"a","119":"n","12":"n","120":"e","121":"o","122":"u","123":"s","124":" ","125":"t","126":"u","127":"n","128":"n","129":"e","13":"n","130":"l","131":"s","132":" ","133":"f","134":"r","135":"o","136":"m","137":" ","138":"a","139":" ","14":"e","140":"s","141":"i","142":"n","143":"g","144":"l","145":"e","146":" ","147":"a","148":"g","149":"e","15":"c","150":"n","151":"t","152":" ","153":"s","154":"e","155":"s","156":"s","157":"i","158":"o","159":"n","16":"t","160":" ","161":"b","162":"y","163":" ","164":"d","165":"e","166":"f","167":"i","168":"n","169":"i","17":" ","170":"n","171":"g","172":" ","173":"t","174":"h","175":"e","176":" ","177":"t","178":"u","179":"n","18":"s","180":"n","181":"e","182":"l","183":"s","184":" ","185":"i","186":"n","187":" ","188":"y","189":"o","19":"e","190":"u","191":"r","192":" ","193":"a","194":"g","195":"e","196":"n","197":"t","198":" ","199":"c","2":"i","20":"s","200":"o","201":"n","202":"f","203":"i","204":"g","205":"u","206":"r","207":"a","208":"t","209":"i","21":"s","210":"o","211":"n","212":" ","213":"f","214":"i","215":"l","216":"e","217":" ","218":"a","219":"n","22":"i","220":"d","221":" ","222":"s","223":"t","224":"a","225":"r","226":"t","227":"i","228":"n","229":"g","23":"o","230":" ","231":"t","232":"h","233":"e","234":"m","235":" ","236":"w","237":"i","238":"t","239":"h","24":"n","240":" ","241":"t","242":"h","243":"e","244":" ","245":"c","246":"o","247":"m","248":"m","249":"a","25":":","250":"n","251":"d","252":" ","253":"`","254":"n","255":"g","256":"r","257":"o","258":"k","259":" ","26":" ","260":"s","261":"t","262":"a","263":"r","264":"t","265":" ","266":"-","267":"-","268":"a","269":"l","27":"Y","270":"l","271":"`","272":".","273":"\n","274":"R","275":"e","276":"a","277":"d","278":" ","279":"m","28":"o","280":"o","281":"r","282":"e","283":" ","284":"a","285":"b","286":"o","287":"u","288":"t","289":" ","29":"u","290":"t","291":"h","292":"e","293":" ","294":"a","295":"g","296":"e","297":"n","298":"t","299":" ","3":"l","30":"r","300":"c","301":"o","302":"n","303":"f","304":"i","305":"g","306":"u","307":"r","308":"a","309":"t","31":" ","310":"i","311":"o","312":"n","313":" ","314":"f","315":"i","316":"l","317":"e","318":":","319":" ","32":"a","320":"h","321":"t","322":"t","323":"p","324":"s","325":":","326":"/","327":"/","328":"n","329":"g","33":"c","330":"r","331":"o","332":"k","333":".","334":"c","335":"o","336":"m","337":"/","338":"d","339":"o","34":"c","340":"c","341":"s","342":"/","343":"s","344":"e","345":"c","346":"u","347":"r","348":"e","349":"-","35":"o","350":"t","351":"u","352":"n","353":"n","354":"e","355":"l","356":"s","357":"/","358":"n","359":"g","36":"u","360":"r","361":"o","362":"k","363":"-","364":"a","365":"g","366":"e","367":"n","368":"t","369":"/","37":"n","370":"r","371":"e","372":"f","373":"e","374":"r","375":"e","376":"n","377":"c","378":"e","379":"/","38":"t","380":"c","381":"o","382":"n","383":"f","384":"i","385":"g","386":"\n","387":"Y","388":"o","389":"u","39":" ","390":" ","391":"c","392":"a","393":"n","394":" ","395":"v","396":"i","397":"e","398":"w","399":" ","4":"e","40":"i","400":"y","401":"o","402":"u","403":"r","404":" ","405":"c","406":"u","407":"r","408":"r","409":"e","41":"s","410":"n","411":"t","412":" ","413":"a","414":"g","415":"e","416":"n","417":"t","418":" ","419":"s","42":" ","420":"e","421":"s","422":"s","423":"i","424":"o","425":"n","426":"s","427":" ","428":"i","429":"n","43":"l","430":" ","431":"t","432":"h","433":"e","434":" ","435":"d","436":"a","437":"s","438":"h","439":"b","44":"i","440":"o","441":"a","442":"r","443":"d","444":":","445":"\n","446":"h","447":"t","448":"t","449":"p","45":"m","450":"s","451":":","452":"/","453":"/","454":"d","455":"a","456":"s","457":"h","458":"b","459":"o","46":"i","460":"a","461":"r","462":"d","463":".","464":"n","465":"g","466":"r","467":"o","468":"k","469":".","47":"t","470":"c","471":"o","472":"m","473":"/","474":"a","475":"g","476":"e","477":"n","478":"t","479":"s","48":"e","480":" ","481":"e","482":"r","483":"r","484":"o","485":"r","486":"_","487":"c","488":"o","489":"d","49":"d","490":"e","491":":","492":" ","493":"E","494":"R","495":"R","496":"_","497":"N","498":"G","499":"R","5":"d","50":" ","500":"O","501":"K","502":"_","503":"1","504":"0","505":"8","51":"t","52":"o","53":" ","54":"1","55":" ","56":"s","57":"i","58":"m","59":"u","6":" ","60":"l","61":"t","62":"a","63":"n","64":"e","65":"o","66":"u","67":"s","68":" ","69":"n","7":"t","70":"g","71":"r","72":"o","73":"k","74":" ","75":"a","76":"g","77":"e","78":"n","79":"t","8":"o","80":" ","81":"s","82":"e","83":"s","84":"s","85":"i","86":"o","87":"n","88":"s","89":".","9":" ","90":"\n","91":"Y","92":"o","93":"u","94":" ","95":"c","96":"a","97":"n","98":" ","99":"r","level":"error","message":"Error al iniciar ngrok:","timestamp":"2025-04-28 14:31:23"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 15:41:49"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 15:42:21"}
{"level":"error","message":"Error durante la venta: You have to connect to a POS to send this message: 0200|000000100|420964|0|0","stack":"Error: You have to connect to a POS to send this message: 0200|000000100|420964|0|0\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8024\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 15:44:27"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 15:44:56"}
{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:16"}
{"level":"error","message":"Error al inicializar terminal (cargar llaves): ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:50"}
{"level":"error","message":"Error inicializando terminal: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-28 15:45:50"}
