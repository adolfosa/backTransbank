{"level":"error","message":"Error durante la venta: ACK has not been received in 2000 ms.","stack":"Error: ACK has not been received in 2000 ms.\n    at Timeout._onTimeout (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8305)\n    at listOnTimeout (node:internal/timers:569:17)\n    at process.processTimers (node:internal/timers:512:7)","timestamp":"2025-04-25 16:35:08"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 09:17:56"}
{"level":"error","message":"❌ No se pudo conectar a ningún puerto POS válido","timestamp":"2025-04-28 09:18:57"}
{"level":"error","message":"Error al reconectar con el POS: transbankService.autoconnect is not a function","stack":"TypeError: transbankService.autoconnect is not a function\n    at exports.reconnectPOS (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:48:41)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:280:10)","timestamp":"2025-04-28 09:19:03"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 09:54:25"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:06"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:04:58"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:06:11"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:09:15"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:11:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:13:47"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 10:22:25"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:00:55"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:04:22"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:16:30"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:44"}
{"level":"error","message":"Error al obtener última transacción manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:19:57"}
{"level":"error","message":"Error al obtener última transacción manual: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.sendRawCommand is not a function","stack":"TypeError: this.pos.sendRawCommand is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:60:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:20:01"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:23:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:50:59"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:51:11"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 11:52:42"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:04:28"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:10:16"}
{"level":"error","message":"Error al obtener última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error obteniendo última transacción: this.pos.lastSale is not a function","stack":"TypeError: this.pos.lastSale is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:20:28"}
{"level":"error","message":"Error al obtener última transacción (manual 0250): this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error obteniendo última transacción: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:32:06"}
{"level":"error","message":"Error ejecutando comando manual 0250: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error obteniendo última transacción: this.pos._send is not a function","stack":"TypeError: this.pos._send is not a function\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:42)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/index.js:346:12)","timestamp":"2025-04-28 12:43:45"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:34"}
{"level":"error","message":"Error durante la venta: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.sale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3062)\n    at TransbankService.sendSaleCommand (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:32:39)\n    at exports.processPayment (/opt/lampp/htdocs/backTransbank-1/src/controllers/paymentController.js:19:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:50:47"}
{"level":"error","message":"Error al obtener última transacción: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"level":"error","message":"Error obteniendo última transacción: Another message was already sent and it is still waiting for a response from the POS","stack":"Error: Another message was already sent and it is still waiting for a response from the POS\n    at /opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:8133\n    at new Promise (<anonymous>)\n    at e.exports.send (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:7975)\n    at e.exports.getLastSale (/opt/lampp/htdocs/backTransbank-1/node_modules/transbank-pos-sdk/dist/transbank.js:1:3769)\n    at TransbankService.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/services/transbankService.js:59:39)\n    at exports.getLastTransaction (/opt/lampp/htdocs/backTransbank-1/src/controllers/terminalController.js:28:43)\n    at newFn (/opt/lampp/htdocs/backTransbank-1/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/layer.js:95:5)\n    at next (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/opt/lampp/htdocs/backTransbank-1/node_modules/express/lib/router/route.js:119:3)","timestamp":"2025-04-28 12:53:15"}
{"0":"T","1":"i","10":"r","11":"r","12":"a","13":"n","14":"d","15":"o","16":" ","17":"s","18":"e","19":"r","2":"m","20":"v","21":"i","22":"d","23":"o","24":"r","3":"e","4":"o","5":"u","6":"t","7":" ","8":"c","9":"e","level":"error","message":"Error durante el shutdown:","timestamp":"2025-04-28 12:53:21"}
